# -*- coding: UTF-8 -*-
"""
Description : 
"""
import os
import aiohttp
import warnings

from harvesttext import HarvestText
from openpyxl.cell.cell import ILLEGAL_CHARACTERS_RE
from simpletransformers.t5 import T5Model, T5Args, DDPT5Model
from simpletransformers.classification import ClassificationModel
from pharm_ai.config import ConfigFilePaths
from pharm_ai.pom.rule_match import IndicationMatcher


warnings.simplefilter(action='ignore', category=Warning)


class PomModel:

    def __init__(self, version, n_gpu=1, project_name='pom', use_cuda=True):
        self.pn = project_name
        self.pre_model = '/large_files/pretrained_pytorch/mt5_zh_en/'
        self.hyper_args = T5Args()

        self.use_cuda = use_cuda
        self.hyper_args.n_gpu = n_gpu

        # base config
        self.hyper_args.reprocess_input_data = False
        self.hyper_args.use_cached_eval_features = True
        self.hyper_args.fp16 = True
        self.hyper_args.use_multiprocessing = False
        self.hyper_args.use_multiprocessing_for_evaluation = False
        self.hyper_args.use_multiprocessed_decoding = False
        self.hyper_args.max_seq_length = 64

        # save
        self.hyper_args.save_eval_checkpoints = False
        self.hyper_args.save_model_every_epoch = False
        self.hyper_args.save_optimizer_and_scheduler = False

        # eval
        self.hyper_args.evaluate_during_training = True
        self.hyper_args.evaluate_during_training_verbose = True

        # output
        self.hyper_args.overwrite_output_dir = True
        self.hyper_args.output_dir = ConfigFilePaths.project_dir + '/' + self.pn + '/outputs/' + version + '/'
        self.hyper_args.cache_dir = ConfigFilePaths.project_dir + '/' + self.pn + '/cache/' + version + '/'
        self.hyper_args.best_model_dir = ConfigFilePaths.project_dir + '/' + self.pn + '/best_model/' + version + '/'

        # training args
        self.hyper_args.train_batch_size = 64
        self.hyper_args.eval_batch_size = self.hyper_args.train_batch_size
        self.hyper_args.evaluate_during_training_steps = 10
        self.hyper_args.logging_steps = self.hyper_args.evaluate_during_training_steps // 2
        self.hyper_args.num_train_epochs = 2

    def get_train_model(self):
        return DDPT5Model(model_type='mt5', model_name=self.pre_model, use_cuda=self.use_cuda, args=self.hyper_args)

    def get_predict_model(self):
        args = dict(silent=True)
        return T5Model(model_type='mt5', model_name=self.hyper_args.best_model_dir, use_cuda=self.use_cuda,
                       args=args)


class PomCls:

    def __init__(self):
        best_model_dir = os.path.join(ConfigFilePaths.project_dir, 'pom', 'best_model', 'cls')
        args = dict(silent=True, onnx=True, quantized_model=True)
        self.classifier = ClassificationModel('bert', best_model_dir, num_labels=2, args=args, use_cuda=False)

    def predict(self, text, th=-0.7):
        res = self.classifier.predict([text])[1]
        label = 1 if res[0][0] < th else 0
        return str(label)


class PomPredictor:

    def __init__(self):
        self.ht = HarvestText()
        self.classifier = PomCls()
        self.model = PomModel('v1.3', use_cuda=False).get_predict_model()
        self.summary_url = 'http://localhost:4396/sents_summarize/'
        self.matcher = IndicationMatcher()
        self.title_list = ['招聘', '盛会', '年会', '征文', '代理商', '研修班', '直播', '邀请', '节日快乐', '内推',
                           '母亲节', '春节', '劳动节', '报名', '患者招募', '临床试验招募', '招募', '免费', '晶泰智播', '博士后',
                           '护士节', '圆满举行', '研讨会', '倒计时', '课程', '训练营']
        self.content_list_by_title = ['国采', 'CD38', 'IgA肾病', '头孢', '诺华', '罗氏', '速福达', '鼻咽癌', '托法替布',
                                      '泰盛奇', 'CD38', '斯鲁利单抗']
        self.content_list_by_filter = ['B村', '中国', '头对头', '国采', 'CD38', 'IgA肾病', '头孢', '诺华', '罗氏', '速福达',
                                       '鼻咽癌', '托法替布', '泰盛奇', 'CD38', '斯鲁利单抗']
        self.white_list = ['药明康德', '医药观澜', 'E药经理人', '新浪医药',
                           '医药经济报', 'Armstrong生物药资讯', '八点健闻',
                           '动脉新医药', '医药笔记']

    def predict_medical_news(self, text_title, source):
        is_medical_news = 'un_predict'
        for i in self.title_list:
            if i in text_title:
                is_medical_news = '0'
        if is_medical_news != '0':
            if source in self.white_list:
                is_medical_news = '1'
            if '医药魔方' in source:
                is_medical_news = '1'
        if is_medical_news != '0' and is_medical_news != '1':
            is_medical_news = self.classifier.predict(text_title)
        return is_medical_news

    async def predict_news_classification_label(self, text_title):
        news_classification_labels = self.model.predict(["classification_label: " + text_title])[0]
        news_classification_labels = ','.join(news_classification_labels.split('-'))
        news_classification_labels = news_classification_labels.split(',')

        news_classification_labels_0 = news_classification_labels[0]
        if news_classification_labels[0] == '政策':
            if news_classification_labels[-1] in ['研发注册', '生产质控', '定价流通', '招标采购', '医保']:
                news_classification_labels_1 = news_classification_labels[-1]
            else:
                news_classification_labels_1 = '其他'
        elif news_classification_labels[0] == '公司':
            if news_classification_labels[-1] in ['投融资', 'IPO', '交易并购', '财报业绩', '公司动态']:
                news_classification_labels_1 = news_classification_labels[-1]
            else:
                news_classification_labels_1 = '其他'
        elif news_classification_labels[0] == '药品':
            if news_classification_labels[-1] in ['前沿研究', '临床研究', '注册审批', '药品警戒', '药品销售']:
                news_classification_labels_1 = news_classification_labels[-1]
            else:
                news_classification_labels_1 = '其他'
        elif news_classification_labels[0] == '人':
            if news_classification_labels[-1] in ['人事变动', '专访', '专家观点']:
                news_classification_labels_1 = news_classification_labels[-1]
            else:
                news_classification_labels_1 = '其他'
        elif news_classification_labels[0] == '疾病':
            if news_classification_labels[-1] in ['循证数据', '临床指南', '医学进展']:
                news_classification_labels_1 = news_classification_labels[-1]
            else:
                news_classification_labels_1 = '其他'
        else:
            news_classification_labels_0 = '其他'
            news_classification_labels_1 = '其他'
        news_classification_labels = news_classification_labels_0 + ',' + news_classification_labels_1
        return news_classification_labels

    async def predict_news_content_label(self, text_title: str, content: str, summary: str):
        news_content_labels = self.model.predict(["content_label: " + text_title])[0]
        news_content_labels = news_content_labels.replace('|', ',')
        news_content_labels = set(news_content_labels.split(','))
        news_content_labels_res = ['']
        for i in self.content_list_by_title:
            if i in text_title:
                news_content_labels_res.append(i)
        if 'CLL/SLL' in text_title:
            news_content_labels_res.extend(['CLL', 'SLL'])

        for i in news_content_labels:
            for j in self.content_list_by_filter:
                if j in i:
                    i = i.replace(j, '')
            news_content_labels_res.append(i)
        news_content_labels_res = set(news_content_labels_res)
        if '' in news_content_labels_res:
            news_content_labels_res.remove('')
        news_content_labels_res = set([label for label in news_content_labels_res if label in text_title])
        content = " ".join(self.clean_text(content))
        news_content_labels_res = self.matcher.match(text_title + summary, content, list(news_content_labels_res))
        news_content_labels = ','.join(list(news_content_labels_res))
        return news_content_labels

    def clean_text(self, doc):
        doc = self.ht.clean_text(doc).replace("\xa0", "").replace('▲', "")
        doc = ILLEGAL_CHARACTERS_RE.sub(r'', doc)
        doc = doc.replace('\u200b', '')
        doc = doc.replace('\ufeff', '')
        doc = doc.replace('\ue601', '')
        sents = self.ht.cut_sentences(doc)
        sents = [s.lstrip('*').strip() for s in sents]
        sents = [s for s in sents if '微信' not in s and '截图' not in s and '图片来源' not in s and not s.startswith("图")]
        sents = [s for s in sents if not (('本文由' in s) or ('本文转载' in s) or ('点击' in s))]
        return sents

    async def predict_summary(self, sents):
        async with aiohttp.ClientSession() as session:
            async with session.post(self.summary_url, json={'sents': sents}) as resp:
                summaries = (await resp.json())['sents']
        cleaned = []
        for t in summaries:
            t = t.replace('▎药明康德内容团队编辑', '')
            t = t.replace('▎医药观澜/报道', '')
            t = t.replace('医麦客近期热门报道', '')
            t = t.replace('★', ' ')
            t = t.split('eMedClub News/--')[-1]
            cleaned.append(t)
        return " ".join(cleaned)


if __name__ == '__main__':
    import asyncio

    def run_async(coroutine):
        loop = asyncio.get_event_loop()
        return loop.run_until_complete(coroutine)

    title = 'Biotech迎来商业化，传统药企创新转型加速'
    title2 = '自免 | 系统性红斑狼疮治疗和开发现状'
    abstract = '典型症状是面部出现类似蝴蝶的红斑。之所以会叫“狼疮”是因为早在18世纪，人们认为SLE的面部红斑好像被狼咬伤所致。在临床上，常将红斑狼疮分为两种：病变仅限于皮肤者称为盘状红斑狼疮;有内脏多器官、多系统受累的则称为系统性红斑狼疮。持久不愈的盘状红斑狼疮有可能发展为系统性红斑狼疮肾病。而系统性红斑狼疮肾病病人，可能出现盘状狼疮样的皮疹，也可能不存在皮肤损害。'
    d = """\n                    \n\n                    \n                    \n                    \n                    <section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px;letter-spacing: 0px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="text-align: center;margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.089" data-w="1000" src="http://spider.pharmcube.com/bc5f58d9f937a7e7136a327906f62d22.png" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;" data-type="gif"/></section></section><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: rgba(0, 0, 0, 0);padding: 0px;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px;background-position: 0% 0%;background-repeat: repeat-y;background-size: 100%;background-attachment: scroll;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VibxC6GnvghjYt65KZEZmBkkfEl3Mghb1wxm7mPxdynoZ5ictrwWKDdaJVeVvWS2AMl5jkGia7QiaGe5yBMwX3d0lw/640?wx_fmt=jpeg&quot;);box-sizing: border-box;"><section style="display: inline-block;width: 100%;vertical-align: top;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;border-width: 0px;width: 100%;height: auto;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;"><img data-ratio="1.4009259" src="http://spider.pharmcube.com/4cdc3295e05e6ed6773521f82cdace13.png" data-type="jpeg" data-w="1080" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"/></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 5px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666667" src="http://spider.pharmcube.com/22b01c455b92acd212c477b33e98ad86.png" data-type="gif" data-w="1620" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="text-align: justify;color: rgb(62, 62, 62);font-size: 15px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><span style="box-sizing: border-box;">在浙江省、杭州市及拱墅区政府的大力支持下，<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">阿斯利康中国东部总部</strong></span>将立足长三角地区，全面承担覆盖<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">浙江、福建、江西等中国东部地区</strong></span>的业务运营管理，同时将借力浙江数字经济基础优势、杭州突出的电商新零售、移动医疗及互联网产业优势，积极探索<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">数字技术在医疗大健康产业应用与模式创新</strong></span>，协力打造<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">中国数字化医疗创新高地</strong></span>。</span></p></section><section style="text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section><section style="text-align: justify;font-size: 15px;line-height: 1.8;color: rgb(62, 62, 62);letter-spacing: 0px;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><span style="letter-spacing: 0px;box-sizing: border-box;">当日，多位来自浙江省、杭州市、拱墅区的政府领导，阿斯利康全球执行副总裁、国际业务及中国总裁王磊，阿斯利康中国总经理赖明隆，阿斯利康中国副总裁、企业事务及市场准入部负责人黄彬等多位阿斯利康中国高级管理团队成员，以及来自产、学、研、医、投各界的合作伙伴共同出席了启用仪式，参与并见证了一系列相关揭牌及签约仪式。依托当地数字经济产业特色，联动省、市、区多级协同发展优势，阿斯利康将快速发展业务运营规模、加速创新中心模式孵化并开展创新园建设，进一步开启资本赋能产业的新篇章。</span></p></section></section></section><section style="text-align: center;margin: 20px 0% 15px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 90%;height: auto;box-sizing: border-box;"><img data-ratio="0.587963" src="http://spider.pharmcube.com/4576d6d010df55a4511ce7c13d9ee25e.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"/></section></section><section style="box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section><section style="display: inline-block;width: 100%;vertical-align: top;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.25092592592592594" src="http://spider.pharmcube.com/9079f2940e0ea6d6fe7c1335d4c52cf1.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 10px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;color: rgb(62, 62, 62);font-size: 15px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><span style="box-sizing: border-box;">凭借在新药研发创新实力及医疗创新生态圈打造上的成功经验，<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">阿斯利康与杭州政府</strong></span>在共建<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">医疗创新生态圈、加速医疗产业</strong><strong style="box-sizing: border-box;">升级</strong></span>方面达成了一系列重要共识和合作计划。</span></p></section></section></section></section><section style="text-align: center;margin: 30px 0% 20px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.1399014778325123" src="http://spider.pharmcube.com/bfd595c8522efc6351ec4a0ecc0b5219.png" data-type="png" data-w="1015" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 98%;vertical-align: top;height: auto;background-color: rgba(255, 255, 255, 0);border-style: none none none solid;border-width: 1px;border-color: rgb(62, 62, 62) rgb(62, 62, 62) rgb(62, 62, 62) rgb(253, 122, 96);padding: 10px 0px;box-sizing: border-box;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="display: flex;flex-flow: row nowrap;margin: 0px 0%;box-sizing: border-box;"><section style="display: inline-block;vertical-align: top;width: auto;flex: 1 1 0%;height: auto;align-self: flex-start;background-color: rgba(200, 239, 253, 0.19);margin: 0px 0px 0px -8px;padding: 8px 8px 0px 0px;box-sizing: border-box;"><section style="text-align: left;justify-content: flex-start;margin: 8px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 16px;height: 16px;vertical-align: top;overflow: hidden;border-style: none;border-width: 0px;border-color: rgb(62, 62, 62);padding: 3px;background-image: linear-gradient(90deg, rgb(253, 39, 140) 0%, rgb(254, 200, 50) 100%);box-sizing: border-box;"><section style="margin: -7px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;line-height: 1.8;font-size: 13px;color: rgb(255, 255, 255);letter-spacing: 0px;font-family: Optima-Regular, PingFangTC-light;box-sizing: border-box;"><p style="margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;flex: 100 100 0%;align-self: center;height: auto;padding: 10px;margin: 0px;background-color: rgb(255, 255, 255);border-width: 0px;letter-spacing: 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;border-style: none;border-radius: 10px;border-color: rgb(253, 39, 140);overflow: hidden;box-sizing: border-box;"><section style="transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px);margin: 5px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;color: rgb(62, 62, 62);padding: 0px 5px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">由杭州市及拱墅区政府与阿斯利康共同打造的生命科学创新孵化平台——<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">杭州国际生命科学创新园（iCampus）</strong></span>迎来了首批<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">5</strong></span>家企业正式入园，另有<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">9</strong></span>家新企业与园区签署意向协议，将在园区的孵化下加快发展。</p></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 5px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 95%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="display: inline-block;width: 100%;vertical-align: top;overflow-x: auto;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="overflow: hidden;width: 200%;max-width: 200% !important;box-sizing: border-box;"><section style="display: inline-block;vertical-align: middle;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px 0%;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666666666666666" src="http://spider.pharmcube.com/9c4ce5a949219d2f8a1b480059a03119.png" data-type="jpeg" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section><section style="display: inline-block;vertical-align: top;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px 0%;width: 100%;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 100%;box-sizing: border-box;"><img src="http://spider.pharmcube.com/4285bcf34695c04796dfe4e4aa935233.png" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" data-type="jpeg" data-ratio="0.6666666666666666" data-w="1080"/></section></section></section></section></section></section></section><section style="text-align: center;margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;min-width: 10%;max-width: 100%;height: auto;box-sizing: border-box;"><section style="color: rgb(148, 10, 87);line-height: 1;font-size: 11px;box-sizing: border-box;" powered-by="xiumi.us"><p style="margin: 0px;padding: 0px;box-sizing: border-box;">左右滑动查看更多图片</p></section></section><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;transform: rotateY(180deg);-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-o-transform: rotateY(180deg);box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section></section></section></section></section></section></section><section style="margin: 0px 0%;text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 98%;vertical-align: top;height: auto;background-color: rgba(255, 255, 255, 0);border-style: none none none solid;border-width: 1px;border-color: rgb(62, 62, 62) rgb(62, 62, 62) rgb(62, 62, 62) rgb(253, 122, 96);padding: 10px 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="display: flex;flex-flow: row nowrap;margin: 0px 0%;box-sizing: border-box;"><section style="display: inline-block;vertical-align: top;width: auto;flex: 1 1 0%;height: auto;align-self: flex-start;background-color: rgba(200, 239, 253, 0.19);margin: 0px 0px 0px -8px;padding: 8px 8px 0px 0px;box-sizing: border-box;"><section style="text-align: left;justify-content: flex-start;margin: 8px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 16px;height: 16px;vertical-align: top;overflow: hidden;border-style: none;border-width: 0px;border-color: rgb(62, 62, 62);padding: 3px;background-image: linear-gradient(90deg, rgb(253, 39, 140) 0%, rgb(254, 200, 50) 100%);box-sizing: border-box;"><section style="margin: -7px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;line-height: 1.8;font-size: 13px;color: rgb(255, 255, 255);letter-spacing: 0px;font-family: Optima-Regular, PingFangTC-light;box-sizing: border-box;"><p style="margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;flex: 100 100 0%;align-self: center;height: auto;padding: 10px;margin: 0px;background-color: rgb(255, 255, 255);border-width: 0px;letter-spacing: 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;border-style: none;border-radius: 10px;border-color: rgb(253, 39, 140);overflow: hidden;box-sizing: border-box;"><section style="transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px);margin: 5px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;color: rgb(62, 62, 62);padding: 0px 5px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">杭州国际生命科学创新园与<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">瑞典医健孵化器 Health Hub (H2）</strong></span>也于当日达成合作签约，基于H2在<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">人工智能</strong></span>等新型技术方面的优势与创新孵化经验，促进杭州创新园进一步探索国际发展，推动国内外创新双循环。</p></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 95%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666666666666666" src="http://spider.pharmcube.com/cf0908a97ece457210f77a5a3a6125c7.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section></section></section></section></section></section></section></section><section style="text-align: center;margin: 30px 0% 20px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.1399014778325123" src="http://spider.pharmcube.com/2462699d2758c44134523f400ed57627.png" data-type="png" data-w="1015" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;"><section style="text-align: justify;line-height: 1.8;letter-spacing: 0px;font-size: 15px;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><span style="box-sizing: border-box;">区域总部启用当天，<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">阿斯利康中金医疗产业基金</strong></span>同时宣布与杭州市、区级政府引导基金签署合作意向。杭州市高科技投资及杭州市拱墅区产业投资拟共同参与阿斯利康中金医疗产业基金合作，通过政、产、投三方协力，共同促进中国医疗健康产业创新发展。该合作还标志着<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">阿斯利康中金医疗产业基金进一步深耕区域化布局</strong></span>。未来，基金将为处于孵化期和成长期的创新型医疗健康领域相关企业，提供从研发到商业化的全周期赋能支持。</span></p></section></section></section><section style="margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0% 5px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666666666666666" src="http://spider.pharmcube.com/0a7af27b2cab70c6338464ccc1efe26b.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section><section style="display: inline-block;width: 100%;vertical-align: top;border-width: 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.25092592592592594" src="http://spider.pharmcube.com/fd4471a7b2a0e4e9fff78651c194cfc7.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section><section style="text-align: center;margin: 20px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.13891625615763548" src="http://spider.pharmcube.com/920b8d4516d8d08cb2b7018d3ec0f537.png" data-type="png" data-w="1015" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 98%;vertical-align: top;height: auto;background-color: rgba(255, 255, 255, 0);border-style: none none none solid;border-width: 1px;border-color: rgb(62, 62, 62) rgb(62, 62, 62) rgb(62, 62, 62) rgb(253, 122, 96);padding: 10px 0px;box-sizing: border-box;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="display: flex;flex-flow: row nowrap;margin: 0px 0%;box-sizing: border-box;"><section style="display: inline-block;vertical-align: top;width: auto;flex: 1 1 0%;height: auto;align-self: flex-start;background-color: rgba(200, 239, 253, 0.19);margin: 0px 0px 0px -8px;padding: 8px 8px 0px 0px;box-sizing: border-box;"><section style="text-align: left;justify-content: flex-start;margin: 8px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 16px;height: 16px;vertical-align: top;overflow: hidden;border-style: none;border-width: 0px;border-color: rgb(62, 62, 62);padding: 3px;background-image: linear-gradient(90deg, rgb(253, 39, 140) 0%, rgb(254, 200, 50) 100%);box-sizing: border-box;"><section style="margin: -7px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;line-height: 1.8;font-size: 13px;color: rgb(255, 255, 255);letter-spacing: 0px;font-family: Optima-Regular, PingFangTC-light;box-sizing: border-box;"><p style="margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;flex: 100 100 0%;align-self: center;height: auto;padding: 10px;margin: 0px;background-color: rgb(255, 255, 255);border-width: 0px;letter-spacing: 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;border-style: none;border-radius: 10px;border-color: rgb(253, 39, 140);overflow: hidden;box-sizing: border-box;"><section style="transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px);margin: 5px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;color: rgb(62, 62, 62);padding: 0px 5px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">区域总部启用当天，<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">“数字医疗创新中心”</strong></span>正式揭牌，并与包括欧姆龙健康（中国）、盖睿健康、诊赋健康、东兰贸易、聚陆医疗、祥生医疗、深睿医疗、新鸿镁医疗、尚沃医疗、百瑞医疗、青岛未来、哈哈医疗在内的<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">12</strong></span>家生态圈企业达成签约，携手助力长三角地区的<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">数字医疗特色版块发展</strong></span>。</p></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 5px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 95%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="display: inline-block;width: 100%;vertical-align: top;overflow-x: auto;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="overflow: hidden;width: 200%;max-width: 200% !important;box-sizing: border-box;"><section style="display: inline-block;vertical-align: middle;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px 0% 5px;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666666666666666" src="http://spider.pharmcube.com/c509ea7b17ba5920971e99859c2c0275.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section><section style="display: inline-block;vertical-align: top;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px 0%;width: 100%;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 100%;box-sizing: border-box;"><img src="http://spider.pharmcube.com/6b42ff438cb4c40dc7cc36544c4a0b52.png" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" data-type="png" data-ratio="0.6685185185185185" data-w="1080"/></section></section></section></section></section></section></section><section style="text-align: center;margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;min-width: 10%;max-width: 100%;height: auto;box-sizing: border-box;"><section style="color: rgb(148, 10, 87);line-height: 1;font-size: 11px;box-sizing: border-box;" powered-by="xiumi.us"><p style="margin: 0px;padding: 0px;box-sizing: border-box;">左右滑动查看更多图片</p></section></section><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;transform: rotateY(180deg);-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-o-transform: rotateY(180deg);box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section></section></section></section></section></section></section><section style="margin: 0px 0%;text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 98%;vertical-align: top;height: auto;background-color: rgba(255, 255, 255, 0);border-style: none none none solid;border-width: 1px;border-color: rgb(62, 62, 62) rgb(62, 62, 62) rgb(62, 62, 62) rgb(253, 122, 96);padding: 10px 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="display: flex;flex-flow: row nowrap;margin: 0px 0%;box-sizing: border-box;"><section style="display: inline-block;vertical-align: top;width: auto;flex: 1 1 0%;height: auto;align-self: flex-start;background-color: rgba(200, 239, 253, 0.19);margin: 0px 0px 0px -8px;padding: 8px 8px 0px 0px;box-sizing: border-box;"><section style="text-align: left;justify-content: flex-start;margin: 8px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 16px;height: 16px;vertical-align: top;overflow: hidden;border-style: none;border-width: 0px;border-color: rgb(62, 62, 62);padding: 3px;background-image: linear-gradient(90deg, rgb(253, 39, 140) 0%, rgb(254, 200, 50) 100%);box-sizing: border-box;"><section style="margin: -7px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;line-height: 1.8;font-size: 13px;color: rgb(255, 255, 255);letter-spacing: 0px;font-family: Optima-Regular, PingFangTC-light;box-sizing: border-box;"><p style="margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section></section></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;flex: 100 100 0%;align-self: center;height: auto;padding: 10px;margin: 0px;background-color: rgb(255, 255, 255);border-width: 0px;letter-spacing: 0px;box-shadow: rgb(0, 0, 0) 0px 0px 0px;border-style: none;border-radius: 10px;border-color: rgb(253, 39, 140);overflow: hidden;box-sizing: border-box;"><section style="transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px);margin: 5px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;color: rgb(62, 62, 62);padding: 0px 5px;line-height: 1.8;letter-spacing: 0px;box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">同时，阿斯利康迎来<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">海王星辰</strong></span>入驻数字医疗创新中心，赋能海王星辰打造<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">“智慧药房”</strong></span>。紧密围绕患者需求，融合院内院外资源，力求提供更全面的购药渠道和多种疾病与健康综合管理，打造<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">医药新零售标杆</strong></span>。此外，<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">中国智慧健康创新中心</strong></span>还迎来了重要基金合作伙伴——<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">加州伯克利CITRIS（中国）研究院（筹）</strong></span>的合作签约，双方将在生物医疗方面实现强强联合，共同发展。</p></section></section><section style="text-align: center;justify-content: center;margin: 0px 0% 5px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 95%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="display: inline-block;width: 100%;vertical-align: top;overflow-x: auto;box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="overflow: hidden;width: 200%;max-width: 200% !important;box-sizing: border-box;"><section style="display: inline-block;vertical-align: middle;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin-top: 10px;margin-bottom: 10px;width: 100%;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 100%;box-sizing: border-box;"><img data-ratio="0.6663405088062623" src="http://spider.pharmcube.com/db28304ed9cb7d8b2105b83e1bca9c92.png" data-type="jpeg" data-w="1022" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;"/></section></section></section><section style="display: inline-block;vertical-align: top;width: 50%;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin-top: 10px;margin-bottom: 10px;width: 100%;box-sizing: border-box;"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 100%;box-sizing: border-box;"><img src="http://spider.pharmcube.com/5c31a9a30de0b7749981522919d44f91.png" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" data-type="jpeg" data-ratio="0.6666666666666666" data-w="1080"/></section></section></section></section></section></section></section><section style="text-align: center;margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;min-width: 10%;max-width: 100%;height: auto;box-sizing: border-box;"><section style="color: rgb(148, 10, 87);line-height: 1;font-size: 11px;box-sizing: border-box;" powered-by="xiumi.us"><p style="margin: 0px;padding: 0px;box-sizing: border-box;">左右滑动查看更多图片</p></section></section><section style="display: inline-block;vertical-align: middle;width: 10%;box-sizing: border-box;"><section style="margin: 0px 0%;transform: rotateY(180deg);-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-o-transform: rotateY(180deg);box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 50%;box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 81.5 81.5" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;" width="100%"><path d="M40.7,0C18.2,0,0,18.2,0,40.7s18.2,40.7,40.7,40.7c22.5,0,40.7-18.2,40.7-40.7S63.2,0,40.7,0z   M54.3,45.6h-17l5.6,5.6c2,2,2,5.4,0,7.4v0c-2,2-5.4,2-7.4,0L21.2,44.4c-2-2-2-5.4,0-7.4l14.1-14.1c2-2,5.4-2,7.4,0c2,2,2,5.4,0,7.4  l-5.9,5.9h17.4c2.6,0,4.7,2.1,4.7,4.7C59,43.4,56.9,45.6,54.3,45.6z" fill="rgb(170,19,104)" style="box-sizing: border-box;"/></svg></section></section></section></section></section></section></section></section></section></section></section><section style="text-align: center;margin: 25px 0% 20px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.13891625615763548" src="http://spider.pharmcube.com/4fb1f43480ea40565c5f08de12e49e99.png" data-type="png" data-w="1015" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section><section style="text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 93%;vertical-align: top;height: auto;border-width: 0px;border-style: solid;border-color: rgb(253, 39, 140);box-shadow: rgb(0, 0, 0) 0px 0px 0px;box-sizing: border-box;"><section style="margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 90%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="text-align: justify;line-height: 1.8;letter-spacing: 0px;font-size: 15px;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><span style="box-sizing: border-box;">依托长三角全科优质资源优势<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">，“全科数字医疗孵化中心”</strong></span>的建设将围绕<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">“数字化慢病早筛中心”</strong><span style="color: rgb(62, 62, 62);box-sizing: border-box;">、</span><strong style="box-sizing: border-box;">“数字化慢病管理中心”</strong><span style="color: rgb(62, 62, 62);box-sizing: border-box;">和</span><strong style="box-sizing: border-box;">“数字化科研转化中心”</strong></span>搭建真实世界数据库，打造<span style="color: rgb(148, 10, 87);box-sizing: border-box;"><strong style="box-sizing: border-box;">以高新技术赋能社区医疗</strong></span>的新模式。让社区数字医疗及居家数字医疗真正满足广泛社区基层百姓的需求，形成辐射全国的全科领域的数字医疗生态体系一张网。</span></p></section><section style="text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section><section style="justify-content: center;margin: 0px 0% 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 100%;vertical-align: top;height: auto;box-sizing: border-box;"><section style="margin: 0px 0%;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.6666666666666666" src="http://spider.pharmcube.com/f6ea9bb41509aa9952e0e309eede3d74.png" data-type="jpeg" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section></section></section></section></section></section><section style="box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"/></p></section><section style="display: inline-block;width: 100%;vertical-align: top;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px 0%;text-align: center;justify-content: center;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 100%;vertical-align: top;padding: 0px;height: auto;background-image: linear-gradient(90deg, rgb(253, 39, 140) 0%, rgb(254, 200, 50) 100%);box-sizing: border-box;"><section style="margin: 14px 0% -29px;text-align: left;justify-content: flex-start;transform: translate3d(24px, 0px, 0px);-webkit-transform: translate3d(24px, 0px, 0px);-moz-transform: translate3d(24px, 0px, 0px);-o-transform: translate3d(24px, 0px, 0px);box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 100px;vertical-align: top;border-left: 1px solid rgb(255, 255, 255);border-bottom-left-radius: 0px;height: auto;box-sizing: border-box;"><section style="margin: 8px 0% 43px;justify-content: flex-start;transform: translate3d(-14px, 0px, 0px);-webkit-transform: translate3d(-14px, 0px, 0px);-moz-transform: translate3d(-14px, 0px, 0px);-o-transform: translate3d(-14px, 0px, 0px);box-sizing: border-box;" powered-by="xiumi.us"><section style="background-color: rgb(255, 255, 255);height: 1px;box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"/></section></section></section></section></section><section style="margin: 0px 0%;justify-content: center;transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px);box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: justify;font-size: 15px;line-height: 1.8;letter-spacing: 0px;padding: 0px 37px;color: rgb(255, 255, 255);box-sizing: border-box;"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;">中国区域总部战略是阿斯利康为积极响应中国区域经济协同发展的大趋势于2019年提出的面向未来的发展宏图。阿斯利康中国东部总部是该战略在今年的第二站落地。今年5月底，位于北京经济技术开发区的阿斯利康中国北部总部已率先启动。</strong></p></section></section><section style="text-align: right;justify-content: flex-end;margin: -115px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 150px;height: 150px;vertical-align: top;overflow: hidden;border-top: 0px none rgb(102, 102, 102);border-top-left-radius: 246px;background-color: rgba(251, 208, 131, 0.2);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"/></section></section></section></section></section><section style="text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;width: 100%;height: auto;box-sizing: border-box;"><img data-ratio="1.6037037037037036" src="http://spider.pharmcube.com/d542d0ed3ab6d6a2eb6900cd0a86966f.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;width: 100%;box-sizing: border-box;"/></section></section><section style="text-align: center;margin: 10px 0% 0px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="1.4861111111111112" src="http://spider.pharmcube.com/3c15dfa832ded0897cf1bff400603f59.png" data-type="png" data-w="1080" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section></section></section><section style="text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.948" src="http://spider.pharmcube.com/012398e3327f6abd74f4e0957f456e08.png" data-type="gif" data-w="1000" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section><section style="text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;" powered-by="xiumi.us"><section style="max-width: 100%;vertical-align: middle;display: inline-block;line-height: 0;box-sizing: border-box;"><img data-ratio="0.072" src="http://spider.pharmcube.com/c8760c019bc6e777a708fbc9aec45b67.png" data-type="gif" data-w="1000" style="vertical-align: middle;max-width: 100%;box-sizing: border-box;"/></section></section></section>\n                """
    predictor = PomPredictor()
    clean = predictor.clean_text(d)
    content = " ".join(clean)
    # classifier = PomCls()
    # print(predictor.predict_summary(d))
    # print(classifier.predict(title))
    print(predictor.predict_medical_news(title, 'source'))
    # print(run_async(predictor.predict_news_classification_label(title)))
    print(run_async(predictor.predict_news_content_label(title2, content, abstract)))
    # print(run_async(predictor.predict_news_content_label(title)))
